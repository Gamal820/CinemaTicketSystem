@model Movie
@{
    ViewData["Title"] = @Model.Name;
}

<section class="container my-5">
    <div class="row g-4 align-items-start">
        <!-- الصورة الرئيسية + الصور الفرعية -->
        <div class="col-md-6 text-center">
            <!-- الصورة الرئيسية -->
            <div class="position-relative">
                <img src="~/images/movies/@Model.MainImg"
                     alt="@Model.Name"
                     class="img-fluid rounded shadow"
                     style="width: 100%; max-height: 450px; object-fit: contain; background-color: #000;" />
            </div>

            <!-- الصور الفرعية -->
            @if (Model.MovieSubImages != null && Model.MovieSubImages.Any())
            {
                <div class="mt-4 d-flex flex-wrap justify-content-center gap-3">
                    @foreach (var img in Model.MovieSubImages)
                    {
                        <div class="subimg-wrapper border rounded shadow-sm"
                             style="overflow: hidden; width: 110px; height: 110px;">
                            <img src="~/images/movies/sub/@img.Img"
                                 alt="Sub Image"
                                 class="w-100 h-100"
                                 style="object-fit: cover; cursor: pointer; transition: all 0.3s ease;"
                                 onmouseover="this.style.transform='scale(1.08)'"
                                 onmouseout="this.style.transform='scale(1)'" />
                        </div>
                    }
                </div>
            }
        </div>

        <!-- تفاصيل الفيلم -->
        <div class="col-md-6">
            <h2 class="fw-bold mb-3">@Model.Name</h2>
            <p class="mb-2"><strong>🎭 Category:</strong> @Model.Category?.Name</p>
            <p class="mb-2"><strong>🏢 Cinema:</strong> @Model.Cinema?.Name</p>
            <p class="mb-2"><strong>💰 Price:</strong> @Model.Price.ToString("C")</p>

            <hr />

            <p class="mt-3 text-muted" style="font-size: 1.05rem;">@Model.Description</p>

            <!-- الأزرار -->
            <div class="mt-4 d-flex gap-3">
                <a href="#" class="btn btn-success btn-lg flex-fill">
                    🎟️ Book Ticket
                </a>
                <a href="/Customer/Customer/Index" class="btn btn-outline-secondary btn-lg flex-fill">
                    ⬅ Back to List
                </a>
            </div>
        </div>
    </div>
</section>

<style>
    /* تحسين المظهر العام */
    body {
        background-color: #f9f9f9;
    }

    img {
        border-radius: 10px;
    }

    .subimg-wrapper img:hover {
        filter: brightness(1.1);
    }
</style>
